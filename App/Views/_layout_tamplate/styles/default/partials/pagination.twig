{% if (paginator.hasPages()) %}
	{% set changer = (range * 7 / 10)|round() %}
	{% set pageDiff = paginator.currentPage() - changer %}

	{% set start = paginator.currentPage() >= changer and paginator.lastPage() > range ?
	(paginator.lastPage() > pageDiff + range ? pageDiff + 2 : paginator.lastPage() - range + 1)
	 : 1 %}
	{% set end = paginator.lastPage() > (range + start - 1) ? start + range - 1 : paginator.lastPage() %}
    <ul class="pagination">
        {% if (paginator.onFirstPage() == false) %}
            <li class="page-item"><a class="page-link" href="{{ paginator.previousPageUrl() }}" rel="prev">&laquo;</a></li>
        {% endif %}

        {% for page in start..end %}
            {% if (page == paginator.currentPage()) %}
                <li class="page-item disabled"><span class="page-link">{{ page }}</span></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="{{ paginator.url(page) }}">{{ page }}</a></li>
            {% endif %}
        {% endfor %}

        {% if (paginator.hasMorePages()) %}
        		{% if end < paginator.lastPage() %}
					<li class="page-item disabled"><span class="page-link">...</span></li>
					<li class="page-item"><a class="page-link" href="{{ paginator.url(paginator.lastPage()) }}">{{ paginator.lastPage() }}</a></li>
        		{% endif %}
            <li class="page-item"><a class="page-link" href="{{ paginator.nextPageUrl() }}" rel="next">&raquo;</a></li>
        {% endif %}
    </ul>
{% endif %}
